import{_ as g,r as s,o as m,a as i,c as f,b as h,t as p,F as v,d as _}from"./index-BJqxJRew.js";const w={setup(){const c=s([]),r=s(1),a=s(!1),t=s(null);let n=s(0);const d=()=>{const e=t.value.scrollHeight,l=t.value.scrollTop,u=t.value.offsetHeight;l+u>=e&&!a.value&&o()};m(()=>{o()});const o=async function(){try{a.value=!0;const e=await fetch(`https://api.github.com/users/yyx990803/repos?per_page=10&page=${r.value}`,{method:"GET"});if(!e.ok)throw new Error(`Network response was not ok: ${e.status}`);const l=await e.json();if(l.length===0){a.value=!1,alert("查無資料");return}n.value=n.value+l.length,l.forEach(u=>{c.value.push(u.name)}),r.value++,a.value=!1}catch(e){a.value=!1,alert(e),console.error("Error fetching data:",e)}};return{items:c,scrollArea:t,count:n,handleScroll:d}}};function k(c,r,a,t,n,d){return i(),f(v,null,[h("div",null," 目前共 "+p(t.count)+" 筆資料 ",1),h("div",{ref:"scrollArea",class:"scrollContainer",onScroll:r[0]||(r[0]=(...o)=>t.handleScroll&&t.handleScroll(...o))},[(i(!0),f(v,null,_(t.items,(o,e)=>(i(),f("ul",{key:e},p(o),1))),128))],544)],64)}const S=g(w,[["render",k],["__scopeId","data-v-80af0ca7"]]);export{S as default};
